<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>jsbukkit - Bukkit Manager</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="jsbukkit the bukkit manager">
        <meta name="author" content="Richard Marshall">

        <!-- Le styles -->
        <link href="assets/css/bootstrap.css" rel="stylesheet">
        <link href="assets/css/app.css" rel="stylesheet">
        <link href="assets/css/bootstrap-responsive.css" rel="stylesheet">
        <style type="text/css">
            body {
                padding-top: 50px;
            }
            a {
                cursor:pointer;
            }
        </style>

        <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    </head>

    <body data-spy="scroll" data-target=".subnav" data-offset="50">

        <script type="text/x-handlebars" data-template-name="application">
            {{outlet "navigation"}}
            <div class="container">
                {{outlet}}
                <hr>

                <footer>
                    <p>&copy; Richard Marshall 2012</p>
                </footer>
            </div>
        </script>

        <script type="text/x-handlebars" data-template-name="navigation">
            <div class="navbar navbar-fixed-top">
                <div class="navbar-inner">
                    <div class="container">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="#">JSBukkit</a>
                        <div class="nav-collapse collapse">
                            <ul class="nav">
                                {{#view view.NavItemView item="home"}}
                                    <a {{action gotoHome}}>Home</a>
                                {{/view}}
                                {{#view view.NavItemView item="players"}}
                                    <a {{action gotoPlayers}}>Players</a>
                                {{/view}}
                                {{#view view.NavItemView item="worlds"}}
                                    <a {{action gotoWorlds}}>Worlds</a>
                                {{/view}}
                                {{#view view.NavItemView item="console"}}
                                    <a {{action gotoConsole}}>Console</a>
                                {{/view}}
                                {{#view view.NavItemView item="plugins"}}
                                    <a {{action gotoPlugins}}>Plugins</a>
                                {{/view}}
                            </ul>
                        </div><!--/.nav-collapse -->
                    </div>
                </div>
            </div>
        </script>

        <script type="text/x-handlebars" data-template-name="index">
            <div class="row">
                <div class="span8 well">
                    {{outlet "console_widget"}}
                </div>
                <div class="span3">
                    <div class="row">
                        <div class="span3 well">
                            {{outlet "players_widget"}}
                        </div>
                    </div>
                    <div class="row">
                        <div class="span3 well">
                            {{outlet "stats_widget"}}
                        </div>
                    </div>
                </div>
            </div>
        </script>

        <script type="text/x-handlebars" data-template-name="players">
            <h2>Players ({{controller.length}})</h2>
            <table class="table">
                <tr>
                    <th>Name</th>
                    <th>Level</th>
                    <th>World</th>
                    <th>OP</th>
                    <th>Online</th>

                </tr>
                {{#each player in controller}}
                <tr {{bindAttr class="online:info"}}>
                    <td><a {{action gotoPlayer player}}>{{player.name}}</a></td>
                    <td>{{player.level}}</td>
                    <td>{{player.worldInfo.name}}</td>
                    <td>{{player.op}}</td>
                    <td>{{player.online}}</th>
                </tr>
                {{/each}}
            </table>
        </script>

        <script type="text/x-handlebars" data-template-name="console">
            <h2>Console</h2>
            <ul class="unstyled">
                {{#each controller}}
                    <li>{{line}}</li>
                {{/each}}
            </ul>
        </script>
        
        <script type="text/x-handlebars" data-template-name="worlds">
            <h2>Worlds ({{controller.length}})</h2>
            <table class="table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Environment</th>
                        <th>Time</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each controller}}
                    <tr>
                        <td>{{name}}</td>
                        <td>{{environment}}</td>
                        <td>{{time}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </script>

        <script type="text/x-handlebars" data-template-name="plugins">
            <h2>Plugins ({{controller.length}})</h2>
            <table class="table">
                <tr>
                    <th>Name</th>
                    <th>Enabled</th>
                    <th>Version</th>
                </tr>
                {{#each controller}}
                <tr>
                    <td>{{name}}</td>
                    <td>{{enabled}}</td>
                    <td>{{version}}</td>
                </tr>
                {{/each}}
            </table>
        </script>

        <script type="text/x-handlebars" data-template-name="players_widget">
            <h4>Players ({{controller.length}})</h4>
            <ul class="unstyled">
                {{#each player in controller}}
                <li><a {{action gotoPlayer player}}>{{player.name}}</a></li>
                {{/each}}
            </ul>
        </script>
       
        <script type="text/x-handlebars" data-template-name="console_widget">
            <h4>Console</h4>
            <ul class="unstyled">
                {{#each controller}}
                    <li>{{line}}</li>
                {{/each}}
            </ul>
        </script>

        <script type="text/x-handlebars" data-template-name="stats_widget">
            <h4>Stats</h4>
            JVM Memory: 
            <div class="progress">
                <div class="bar" {{bindAttr style="jvm_mem_percentage"}}></div>
            </div>
            Disk Usage:
            <div class="progress">
                <div class="bar" {{bindAttr style="disk_percentage"}}></div>
            </div>
        </script>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script src="assets/js/lib/bootstrap.min.js"></script>
        <script src="assets/js/lib/handlebars-1.0.rc.1.js"></script>
        <script src="assets/js/lib/ember-latest.js"></script>
        <script src="assets/js/lib/jsonapi.js"></script>
        <script src="assets/js/config.js"></script>
        <script src="assets/js/app.js"></script>
    </body>
</html>
